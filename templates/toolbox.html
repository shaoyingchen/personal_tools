{% extends "layout.html" %}

{% block title %}ğŸ› ï¸ Chensyå·¥å…·ç®± - {{ t('Prompt ç®¡ç†å™¨') }}{% endblock %}

{% block content %}
<style>
    .header {
        background: white;
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 15px;
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        text-align: center;
    }
    
    .header h1 {
        color: #333;
        font-size: 2em;
        margin-bottom: 8px;
    }
    
    .header p {
        color: #666;
        font-size: 1.1em;
    }
    
    .tools-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
    }
    
    .tool-card {
        background: white;
        border-radius: 10px;
        padding: 15px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
    }
    
    .tool-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        border-color: #667eea;
    }
    
    .tool-card.active {
        border-color: #667eea;
        background: #f8f9ff;
    }
    
    .tool-icon {
        font-size: 2em;
        margin-bottom: 8px;
    }
    
    .tool-card h3 {
        color: #333;
        margin-bottom: 5px;
        font-size: 1.1em;
    }
    
    .tool-card p {
        color: #666;
        font-size: 0.8em;
        line-height: 1.4;
    }
    
    .workspace {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        display: none;
    }
    
    .workspace.active {
        display: block;
    }
    
    .workspace-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid #f0f0f0;
    }
    
    .workspace-header h2 {
        color: #333;
        font-size: 1.8em;
    }
    
    .btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1em;
        transition: all 0.3s ease;
        margin-right: 10px;
    }
    
    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }
    
    .btn-secondary {
        background: #6c757d;
    }
    
    .btn-success {
        background: #28a745;
    }
    
    .btn-danger {
        background: #dc3545;
    }
    
    textarea {
        width: 100%;
        min-height: 300px;
        padding: 15px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-family: 'Courier New', monospace;
        font-size: 14px;
        resize: vertical;
        transition: border-color 0.3s ease;
    }
    
    textarea:focus {
        outline: none;
        border-color: #667eea;
    }
    
    .input-group {
        margin-bottom: 20px;
    }
    
    .input-group label {
        display: block;
        color: #333;
        font-weight: 600;
        margin-bottom: 8px;
    }
    
    .input-group input,
    .input-group select {
        width: 100%;
        padding: 12px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 14px;
        transition: border-color 0.3s ease;
    }
    
    .input-group input:focus,
    .input-group select:focus {
        outline: none;
        border-color: #667eea;
    }
    
    .two-column {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }
    
    .result-box {
        background: #f8f9fa;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        padding: 15px;
        margin-top: 20px;
        font-family: 'Courier New', monospace;
        word-break: break-all;
    }
    
    .alert {
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
    }
    
    .alert-success {
        background: #d4edda;
        border: 1px solid #c3e6cb;
        color: #155724;
    }
    
    .alert-error {
        background: #f8d7da;
        border: 1px solid #f5c6cb;
        color: #721c24;
    }
    
    .cron-preview {
        background: #e7f3ff;
        border-left: 4px solid #2196F3;
        padding: 15px;
        margin-top: 15px;
        border-radius: 4px;
    }
    
    .cron-preview h4 {
        color: #1976D2;
        margin-bottom: 10px;
    }
    
    .next-runs {
        list-style: none;
        padding: 0;
    }
    
    .next-runs li {
        padding: 5px 0;
        color: #555;
    }
    
    @media (max-width: 768px) {
        .two-column {
            grid-template-columns: 1fr;
        }
        
        .header h1 {
            font-size: 1.8em;
        }
    }
    
    /* ä¿®å¤é¡¶éƒ¨å¯¼èˆªé“¾æ¥é¢œè‰²é—®é¢˜ */
    header.topbar .nav a {
        color: var(--fg);
    }
    
    .copy-button {
        position: absolute;
        right: 10px;
        top: 10px;
        background: #667eea;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
    }
    
    .copy-button:hover {
        background: #5a67d8;
    }
    
    .result-container {
        position: relative;
        margin-top: 20px;
    }
    
    /* æ·»åŠ å…¨å±åŠ è½½é®ç½©æ ·å¼ */
    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        display: none;
    }
    
    .loading-content {
        background: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .loading-spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #667eea;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin-bottom: 20px;
    }
    
    .loading-text {
        color: #333;
        font-size: 16px;
        margin-top: 10px;
    }
    
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>

<div class="container">
    <!-- Header -->
    <div class="header">
        <h1>ğŸ› ï¸ å¸¸ç”¨å·¥å…·ç®±</h1>
        <p>å¸¸ç”¨å¼€å‘å·¥å…·é›†åˆ - ç®€å•ã€å¿«é€Ÿã€å®ç”¨</p>
    </div>
    
    <!-- Tool Selection Grid -->
    <div class="tools-grid">
        <div class="tool-card" onclick="showTool('json')">
            <div class="tool-icon">ğŸ“</div>
            <h3>JSON å·¥å…·</h3>
            <p>æ ¼å¼åŒ–ã€å‹ç¼©ã€éªŒè¯JSONæ•°æ®</p>
        </div>
        
        <div class="tool-card" onclick="showTool('cron')">
            <div class="tool-icon">â°</div>
            <h3>Cron è¡¨è¾¾å¼</h3>
            <p>å¯è§†åŒ–ç”Ÿæˆå’Œè§£æCronè¡¨è¾¾å¼</p>
        </div>
        
        <div class="tool-card" onclick="showTool('base64')">
            <div class="tool-icon">ğŸ”</div>
            <h3>Base64 ç¼–è§£ç </h3>
            <p>Base64 ç¼–ç å’Œè§£ç å·¥å…·</p>
        </div>
        
        <div class="tool-card" onclick="showTool('timestamp')">
            <div class="tool-icon">ğŸ•</div>
            <h3>æ—¶é—´æˆ³è½¬æ¢</h3>
            <p>æ—¶é—´æˆ³ä¸æ—¥æœŸæ ¼å¼äº’è½¬</p>
        </div>
        
        <div class="tool-card" onclick="showTool('url')">
            <div class="tool-icon">ğŸ”—</div>
            <h3>URL ç¼–è§£ç </h3>
            <p>URL ç¼–ç å’Œè§£ç å·¥å…·</p>
        </div>
        
        <div class="tool-card" onclick="showTool('hash')">
            <div class="tool-icon">ğŸ”’</div>
            <h3>å“ˆå¸Œè®¡ç®—</h3>
            <p>MD5ã€SHA1ã€SHA256 è®¡ç®—</p>
        </div>
        
        <div class="tool-card" onclick="showTool('uuid')">
            <div class="tool-icon">ğŸ²</div>
            <h3>UUID ç”Ÿæˆå™¨</h3>
            <p>ç”Ÿæˆå„ç§ç‰ˆæœ¬çš„UUID</p>
        </div>
        
        <div class="tool-card" onclick="showTool('color')">
            <div class="tool-icon">ğŸ¨</div>
            <h3>é¢œè‰²è½¬æ¢</h3>
            <p>HEXã€RGBã€HSL é¢œè‰²è½¬æ¢</p>
        </div>
        
        <div class="tool-card" onclick="showTool('jasypt')">
            <div class="tool-icon">ğŸ”’</div>
            <h3>Jasypt åŠ è§£å¯†</h3>
            <p>é…ç½®æ–‡ä»¶åŠ è§£å¯†å·¥å…·</p>
        </div>
        
        <div class="tool-card" onclick="showTool('data')">
            <div class="tool-icon">ğŸ“Š</div>
            <h3>æ•°æ®ç”Ÿæˆå™¨</h3>
            <p>æ ¹æ®å»ºè¡¨è¯­å¥ç”Ÿæˆæµ‹è¯•æ•°æ®</p>
        </div>
        
        <div class="tool-card" onclick="showTool('xml')">
            <div class="tool-icon">ğŸ“„</div>
            <h3>XML å·¥å…·</h3>
            <p>æ ¼å¼åŒ–ã€å‹ç¼©ã€éªŒè¯XMLæ•°æ®</p>
        </div>
        
        <div class="tool-card" onclick="showTool('password')">
            <div class="tool-icon">ğŸ”‘</div>
            <h3>å¯†ç ç”Ÿæˆå™¨</h3>
            <p>ç”Ÿæˆå®‰å…¨çš„éšæœºå¯†ç </p>
        </div>
    </div>
    
    <!-- JSON Tool -->
    <div id="json-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ“ JSON å·¥å…·</h2>
            <div>
                <button class="btn" onclick="formatJSON()">æ ¼å¼åŒ–</button>
                <button class="btn btn-secondary" onclick="compressJSON()">å‹ç¼©</button>
                <button class="btn btn-success" onclick="validateJSON()">éªŒè¯</button>
                <button class="btn btn-danger" onclick="clearJSON()">æ¸…ç©º</button>
            </div>
        </div>
        <div id="json-alert"></div>
        <textarea id="json-input" placeholder="åœ¨æ­¤è¾“å…¥æˆ–ç²˜è´´JSONæ•°æ®..."></textarea>
    </div>
    
    <!-- Cron Tool -->
    <div id="cron-workspace" class="workspace">
        <div class="workspace-header">
            <h2>â° Cron è¡¨è¾¾å¼ç”Ÿæˆå™¨</h2>
        </div>
        
        <div class="input-group">
            <label>é€‰æ‹©é¢„è®¾æ¨¡æ¿ï¼š</label>
            <select id="cron-preset" onchange="applyCronPreset()">
                <option value="">-- é€‰æ‹©é¢„è®¾ --</option>
                <option value="* * * * *">æ¯åˆ†é’Ÿ</option>
                <option value="0 * * * *">æ¯å°æ—¶</option>
                <option value="0 0 * * *">æ¯å¤©å‡Œæ™¨</option>
                <option value="0 0 * * 0">æ¯å‘¨æ—¥å‡Œæ™¨</option>
                <option value="0 0 1 * *">æ¯æœˆ1å·å‡Œæ™¨</option>
                <option value="0 9 * * 1-5">å·¥ä½œæ—¥ä¸Šåˆ9ç‚¹</option>
                <option value="*/5 * * * *">æ¯5åˆ†é’Ÿ</option>
                <option value="0 */2 * * *">æ¯2å°æ—¶</option>
            </select>
        </div>
        
        <div class="two-column">
            <div class="input-group">
                <label>åˆ†é’Ÿ (0-59):</label>
                <input type="text" id="cron-minute" value="*" placeholder="* æˆ– 0-59">
            </div>
            <div class="input-group">
                <label>å°æ—¶ (0-23):</label>
                <input type="text" id="cron-hour" value="*" placeholder="* æˆ– 0-23">
            </div>
        </div>
        
        <div class="two-column">
            <div class="input-group">
                <label>æ—¥æœŸ (1-31):</label>
                <input type="text" id="cron-day" value="*" placeholder="* æˆ– 1-31">
            </div>
            <div class="input-group">
                <label>æœˆä»½ (1-12):</label>
                <input type="text" id="cron-month" value="*" placeholder="* æˆ– 1-12">
            </div>
        </div>
        
        <div class="input-group">
            <label>æ˜ŸæœŸ (0-6, 0=å‘¨æ—¥):</label>
            <input type="text" id="cron-week" value="*" placeholder="* æˆ– 0-6">
        </div>
        
        <button class="btn" onclick="generateCron()">ç”Ÿæˆè¡¨è¾¾å¼</button>
        
        <div class="cron-preview" id="cron-result" style="display: none;">
            <h4>Cron è¡¨è¾¾å¼ï¼š</h4>
            <div class="result-box" id="cron-expression"></div>
            <h4 style="margin-top: 15px;">è¯´æ˜ï¼š</h4>
            <p id="cron-description"></p>
            <h4 style="margin-top: 15px;">æ¥ä¸‹æ¥5æ¬¡æ‰§è¡Œæ—¶é—´ï¼š</h4>
            <ul class="next-runs" id="next-runs"></ul>
        </div>
    </div>
    
    <!-- Base64 Tool -->
    <div id="base64-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ” Base64 ç¼–è§£ç </h2>
            <div>
                <button class="btn" onclick="encodeBase64()">ç¼–ç </button>
                <button class="btn btn-secondary" onclick="decodeBase64()">è§£ç </button>
                <button class="btn btn-danger" onclick="clearBase64()">æ¸…ç©º</button>
            </div>
        </div>
        <div id="base64-alert"></div>
        <div class="input-group">
            <label>è¾“å…¥æ–‡æœ¬ï¼š</label>
            <textarea id="base64-input" placeholder="è¾“å…¥è¦ç¼–ç æˆ–è§£ç çš„æ–‡æœ¬..."></textarea>
        </div>
        <div class="input-group">
            <label>è¾“å‡ºç»“æœï¼š</label>
            <textarea id="base64-output" readonly placeholder="ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
        </div>
    </div>
    
    <!-- Timestamp Tool -->
    <div id="timestamp-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ• æ—¶é—´æˆ³è½¬æ¢</h2>
        </div>
        
        <div class="input-group">
            <label>å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ï¼š</label>
            <div class="result-box" id="current-timestamp"></div>
        </div>
        
        <div class="two-column">
            <div>
                <div class="input-group">
                    <label>æ—¶é—´æˆ³è½¬æ—¥æœŸï¼š</label>
                    <input type="text" id="ts-to-date-input" placeholder="è¾“å…¥æ—¶é—´æˆ³ï¼ˆç§’æˆ–æ¯«ç§’ï¼‰">
                    <button class="btn" onclick="timestampToDate()" style="margin-top: 10px; width: 100%;">è½¬æ¢</button>
                </div>
                <div class="result-box" id="ts-to-date-result"></div>
            </div>
            
            <div>
                <div class="input-group">
                    <label>æ—¥æœŸè½¬æ—¶é—´æˆ³ï¼š</label>
                    <input type="datetime-local" id="date-to-ts-input">
                    <button class="btn" onclick="dateToTimestamp()" style="margin-top: 10px; width: 100%;">è½¬æ¢</button>
                </div>
                <div class="result-box" id="date-to-ts-result"></div>
            </div>
        </div>
    </div>
    
    <!-- URL Tool -->
    <div id="url-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ”— URL ç¼–è§£ç </h2>
            <div>
                <button class="btn" onclick="encodeURL()">ç¼–ç </button>
                <button class="btn btn-secondary" onclick="decodeURL()">è§£ç </button>
                <button class="btn btn-danger" onclick="clearURL()">æ¸…ç©º</button>
            </div>
        </div>
        <div id="url-alert"></div>
        <div class="input-group">
            <label>è¾“å…¥ URLï¼š</label>
            <textarea id="url-input" placeholder="è¾“å…¥è¦ç¼–ç æˆ–è§£ç çš„URL..."></textarea>
        </div>
        <div class="input-group">
            <label>è¾“å‡ºç»“æœï¼š</label>
            <textarea id="url-output" readonly placeholder="ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
        </div>
    </div>
    
    <!-- Hash Tool -->
    <div id="hash-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ”’ å“ˆå¸Œè®¡ç®—</h2>
            <div>
                <button class="btn" onclick="calculateHash()">è®¡ç®—</button>
                <button class="btn btn-danger" onclick="clearHash()">æ¸…ç©º</button>
            </div>
        </div>
        <div class="input-group">
            <label>è¾“å…¥æ–‡æœ¬ï¼š</label>
            <textarea id="hash-input" placeholder="è¾“å…¥è¦è®¡ç®—å“ˆå¸Œçš„æ–‡æœ¬..."></textarea>
        </div>
        <div class="input-group">
            <label>MD5ï¼š</label>
            <div class="result-box" id="hash-md5"></div>
        </div>
        <div class="input-group">
            <label>SHA-1ï¼š</label>
            <div class="result-box" id="hash-sha1"></div>
        </div>
        <div class="input-group">
            <label>SHA-256ï¼š</label>
            <div class="result-box" id="hash-sha256"></div>
        </div>
    </div>
    
    <!-- UUID Tool -->
    <div id="uuid-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ² UUID ç”Ÿæˆå™¨</h2>
            <div>
                <button class="btn" onclick="generateUUID()">ç”Ÿæˆ UUID v4</button>
                <button class="btn btn-secondary" onclick="generateMultipleUUID()">æ‰¹é‡ç”Ÿæˆ</button>
            </div>
        </div>
        <div class="input-group">
            <label>ç”Ÿæˆæ•°é‡ï¼ˆæ‰¹é‡ç”Ÿæˆï¼‰ï¼š</label>
            <input type="number" id="uuid-count" value="10" min="1" max="100">
        </div>
        <div class="input-group">
            <label>ç”Ÿæˆçš„ UUIDï¼š</label>
            <textarea id="uuid-output" readonly placeholder="ç‚¹å‡»æŒ‰é’®ç”ŸæˆUUID..."></textarea>
        </div>
    </div>
    
    <!-- Color Tool -->
    <div id="color-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ¨ é¢œè‰²è½¬æ¢</h2>
        </div>
        
        <div class="two-column">
            <div class="input-group">
                <label>é€‰æ‹©é¢œè‰²ï¼š</label>
                <input type="color" id="color-picker" value="#667eea" onchange="updateColorValues()">
            </div>
            <div style="background: var(--color, #667eea); border-radius: 8px; min-height: 100px;" id="color-preview"></div>
        </div>
        
        <div class="input-group">
            <label>HEXï¼š</label>
            <input type="text" id="color-hex" value="#667eea" oninput="convertFromHex()">
        </div>
        
        <div class="input-group">
            <label>RGBï¼š</label>
            <input type="text" id="color-rgb" placeholder="rgb(102, 126, 234)" oninput="convertFromRGB()">
        </div>
        
        <div class="input-group">
            <label>HSLï¼š</label>
            <input type="text" id="color-hsl" placeholder="hsl(231, 77%, 66%)" readonly>
        </div>
    </div>
    
    <!-- Jasypt Encryption Tool -->
    <div id="jasypt-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ”’ Jasypt åŠ è§£å¯†å·¥å…·</h2>
            <div>
                <button class="btn" onclick="encryptText()">åŠ å¯†</button>
                <button class="btn btn-secondary" onclick="decryptText()">è§£å¯†</button>
                <button class="btn btn-danger" onclick="clearJasypt()">æ¸…ç©º</button>
            </div>
        </div>
        <div id="jasypt-alert"></div>
        <div class="input-group">
            <label>å¯†ç ï¼ˆPasswordï¼‰ï¼š</label>
            <input type="password" id="jasypt-password" placeholder="è¾“å…¥åŠ å¯†/è§£å¯†å¯†ç ">
        </div>
        <div class="input-group">
            <label>å¾…å¤„ç†æ–‡æœ¬ï¼š</label>
            <textarea id="jasypt-input" placeholder="è¾“å…¥è¦åŠ å¯†æˆ–è§£å¯†çš„æ–‡æœ¬..."></textarea>
        </div>
        <div class="input-group">
            <label>å¤„ç†ç»“æœï¼š</label>
            <textarea id="jasypt-output" readonly placeholder="ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
        </div>
    </div>
    
    <!-- Data Generator Tool -->
    <div id="data-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ“Š æ•°æ®ç”Ÿæˆå™¨</h2>
            <div>
                <button class="btn" onclick="generateData()">ç”Ÿæˆæ•°æ®</button>
                <button class="btn btn-secondary" onclick="copyInsertStatements()">å¤åˆ¶INSERTè¯­å¥</button>
                <button class="btn btn-danger" onclick="clearDataGenerator()">æ¸…ç©º</button>
            </div>
        </div>
        <div id="data-alert"></div>
        
        <div class="input-group">
            <label>æ•°æ®åº“ç±»å‹ï¼š</label>
            <select id="database-type">
                <option value="mysql">MySQL</option>
                <option value="postgresql">PostgreSQL</option>
                <option value="sqlite">SQLite</option>
                <option value="oracle">Oracle</option>
                <option value="sqlserver">SQL Server</option>
            </select>
        </div>
        
        <div class="input-group">
            <label>å»ºè¡¨è¯­å¥ï¼š</label>
            <textarea id="create-table-statement" placeholder="è¯·è¾“å…¥å»ºè¡¨è¯­å¥ï¼Œä¾‹å¦‚ï¼š
CREATE TABLE users (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    email VARCHAR(100),
    age INT,
    created_at TIMESTAMP
);"></textarea>
        </div>
        
        <div class="input-group">
            <label>ç”Ÿæˆè®°å½•æ•°ï¼š</label>
            <input type="number" id="record-count" value="10" min="1" max="1000">
        </div>
        
        <div class="result-container">
            <label>ç”Ÿæˆç»“æœï¼ˆINSERTè¯­å¥ï¼‰ï¼š</label>
            <button class="copy-button" onclick="copyInsertStatements()">å¤åˆ¶</button>
            <textarea id="data-output" readonly placeholder="ç”Ÿæˆçš„INSERTè¯­å¥å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
        </div>
    </div>
    
    <!-- XML Tool -->
    <div id="xml-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ“„ XML å·¥å…·</h2>
            <div>
                <button class="btn" onclick="formatXML()">æ ¼å¼åŒ–</button>
                <button class="btn btn-secondary" onclick="compressXML()">å‹ç¼©</button>
                <button class="btn btn-success" onclick="validateXML()">éªŒè¯</button>
                <button class="btn btn-danger" onclick="clearXML()">æ¸…ç©º</button>
            </div>
        </div>
        <div id="xml-alert"></div>
        <textarea id="xml-input" placeholder="åœ¨æ­¤è¾“å…¥æˆ–ç²˜è´´XMLæ•°æ®..."></textarea>
    </div>
    
    <!-- Password Generator Tool -->
    <div id="password-workspace" class="workspace">
        <div class="workspace-header">
            <h2>ğŸ”‘ éšæœºå¯†ç ç”Ÿæˆå™¨</h2>
            <div>
                <button class="btn" onclick="generatePassword()">ç”Ÿæˆå¯†ç </button>
                <button class="btn btn-secondary" onclick="copyPassword()">å¤åˆ¶å¯†ç </button>
                <button class="btn btn-danger" onclick="clearPassword()">æ¸…ç©º</button>
            </div>
        </div>
        <div id="password-alert"></div>
        
        <div class="input-group">
            <label>å¯†ç é•¿åº¦ï¼š</label>
            <input type="number" id="password-length" value="12" min="4" max="128">
        </div>
        
        <div class="input-group">
            <label>å¯†ç é€‰é¡¹ï¼š</label>
            <div>
                <input type="checkbox" id="include-uppercase" checked>
                <label for="include-uppercase">åŒ…å«å¤§å†™å­—æ¯ (A-Z)</label>
            </div>
            <div>
                <input type="checkbox" id="include-lowercase" checked>
                <label for="include-lowercase">åŒ…å«å°å†™å­—æ¯ (a-z)</label>
            </div>
            <div>
                <input type="checkbox" id="include-numbers" checked>
                <label for="include-numbers">åŒ…å«æ•°å­— (0-9)</label>
            </div>
            <div>
                <input type="checkbox" id="include-symbols" checked>
                <label for="include-symbols">åŒ…å«ç‰¹æ®Šå­—ç¬¦ (!@#$%^&*)</label>
            </div>
        </div>
        
        <div class="input-group">
            <label>ç”Ÿæˆçš„å¯†ç ï¼š</label>
            <div class="result-box" id="password-result" style="word-break: break-all; font-size: 1.2em; font-weight: bold;"></div>
        </div>
    </div>
</div>

<!-- å…¨å±åŠ è½½é®ç½© -->
<div class="loading-overlay" id="data-loading-overlay">
    <div class="loading-content">
        <div class="loading-spinner"></div>
        <div class="loading-text">æ•°æ®ç”Ÿæˆä¸­ï¼Œè¯·ç¨å€™...</div>
    </div>
</div>

<script>
    // å·¥å…·åˆ‡æ¢
    function showTool(toolName) {
        // éšè—æ‰€æœ‰å·¥ä½œåŒº
        document.querySelectorAll('.workspace').forEach(w => w.classList.remove('active'));
        document.querySelectorAll('.tool-card').forEach(c => c.classList.remove('active'));
        
        // æ˜¾ç¤ºé€‰ä¸­çš„å·¥ä½œåŒº
        const workspace = document.getElementById(toolName + '-workspace');
        if (workspace) {
            workspace.classList.add('active');
        }
        
        // è®¾ç½®é€‰ä¸­å·¥å…·å¡ç‰‡çš„activeçŠ¶æ€
        const toolCards = document.querySelectorAll('.tool-card');
        toolCards.forEach(card => {
            // é€šè¿‡onclickå±æ€§æ¥åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰é€‰ä¸­çš„å·¥å…·
            const onclickAttr = card.getAttribute('onclick');
            if (onclickAttr && onclickAttr.includes("'" + toolName + "'")) {
                card.classList.add('active');
            }
        });
        
        // ç‰¹æ®Šåˆå§‹åŒ–
        if (toolName === 'timestamp') {
            updateCurrentTimestamp();
            setInterval(updateCurrentTimestamp, 1000);
        }
        if (toolName === 'color') {
            updateColorValues();
        }
    }
    
    // åˆå§‹åŒ–ï¼šæ˜¾ç¤ºç¬¬ä¸€ä¸ªå·¥å…·
    window.onload = function() {
        showTool('json');
    };
</script>
{% endblock %}